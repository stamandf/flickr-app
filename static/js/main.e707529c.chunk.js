(this["webpackJsonpflickr-app"]=this["webpackJsonpflickr-app"]||[]).push([[0],{180:function(t,e,a){t.exports=a(395)},201:function(t,e){},203:function(t,e){},233:function(t,e){},234:function(t,e){},299:function(t,e){},394:function(t,e,a){},395:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(175),s=a.n(r),c=a(72),i=a(16),l=a(17),h=a(19),u=a(18),d=a(20),p=a(37),f=a(32),m=a(176),b=a.n(m),j=a(177),v=function(t){function e(){return Object(i.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},'aria-hidden="true" version="1.1" id="icon-dots-three-horizontal" viewBox="0 0 40 40">',o.a.createElement("style",null,"position=absolute width=0 height=0 zIndex=100 overflow=hidden"),o.a.createElement("title",null,"dots-three-horizontal"),o.a.createElement("path",{d:"M20.002 15.6c-2.43 0-4.402 1.97-4.402 4.4s1.972 4.4 4.402 4.4c2.43 0 4.398-1.97 4.398-4.4s-1.968-4.4-4.398-4.4zM6.002 15.6c-2.43 0-4.402 1.97-4.402 4.4s1.972 4.4 4.402 4.4c2.43 0 4.398-1.972 4.398-4.4s-1.968-4.4-4.398-4.4zM34.002 15.6c-2.43 0-4.402 1.97-4.402 4.4s1.972 4.4 4.402 4.4c2.43 0 4.398-1.97 4.398-4.4s-1.968-4.4-4.398-4.4z"}))}}]),e}(o.a.Component),O=a(73),y=a.n(O),k=[],g=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(h.a)(this,Object(u.a)(e).call(this,t))).state={text:""},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"handleChange",value:function(t){this.setState({text:t.target.value})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var a=this.state.text.split(" ").join("+");this.setState({text:""}),this.text.blur(),y.a.fetchPhotos(a,1,(function(t,n){t?console.log(t):(k=n,e.props.addPhotos(a,k.page,k.total,k.photo),e.setState({text:""}),e.text.blur(),e.props.history.push("/#/".concat(a)))}))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement("form",{className:"search",onSubmit:this.handleSubmit},o.a.createElement("input",{className:"search__input",type:"text",id:"text",name:"text",ref:function(e){t.text=e},placeholder:"Search photos",value:this.state.text,onChange:this.handleChange})))}}]),e}(o.a.Component),w=Object(p.f)(g),E=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(h.a)(this,Object(u.a)(e).call(this,t))).state={farm:a.props.farm,server:a.props.server,id:a.props.id,secret:a.props.secret},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("figure",{className:"gallery__item "},o.a.createElement("img",{src:"https://farm".concat(this.state.farm,".staticflickr.com/").concat(this.state.server,"/").concat(this.state.id,"_").concat(this.state.secret,".jpg"),alt:"Gallery item ".concat(this.state.id)}))}}]),e}(o.a.Component),x=function(t){function e(){return Object(i.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"gallery"},this.props.children)}}]),e}(o.a.Component),P=function(t){function e(){return Object(i.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},this.props.children)}}]),e}(o.a.Component),S=function(t){function e(){return Object(i.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"search"},this.props.children)}}]),e}(o.a.Component),C=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(h.a)(this,Object(u.a)(e).call(this,t))).state={keywords:"",page:1,total:0,listPhotos:[],hasMore:!0},a.addKeyword=a.addKeyword.bind(Object(f.a)(a)),a.addPhotos=a.addPhotos.bind(Object(f.a)(a)),a.fetchMoreData=a.fetchMoreData.bind(Object(f.a)(a)),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"addKeyword",value:function(t){this.setState({keywords:t})}},{key:"addPhotos",value:function(t,e,a,n){this.setState({keywords:t,page:e,total:a,listPhotos:n})}},{key:"fetchMoreData",value:function(){var t=this,e=[];this.state.listPhotos.length>=this.state.total?this.setState({hasMore:!1}):setTimeout((function(){y.a.fetchPhotos(t.state.keywords,t.state.page+1,(function(a,n){a?console.log(a):(e=n,t.setState({page:e.page,listPhotos:t.state.listPhotos.concat(e.photo)}))}))}),500)}},{key:"render",value:function(){var t=this.state.listPhotos.map((function(t){return o.a.createElement(E,{key:b()(),farm:t.farm,server:t.server,id:t.id,secret:t.secret})}));return o.a.createElement(P,null,o.a.createElement(S,null,o.a.createElement(w,{addPhotos:this.addPhotos})),o.a.createElement(j.a,{dataLength:t.length,next:this.fetchMoreData,hasMore:this.state.hasMore,loader:o.a.createElement(v,{className:"icon__infinity"}),height:800,endMessage:o.a.createElement("p",null,"THE END.")},o.a.createElement(x,null,t)))}}]),e}(o.a.Component),M=(a(394),function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(h.a)(this,Object(u.a)(e).call(this,t))).state={keywords:"",total:0,listPhotos:[]},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"addKeyword",value:function(t){this.setState({keywords:t})}},{key:"addPhotos",value:function(t,e,a){this.setState({keywords:t,total:e,listPhotos:a})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p.c,null,o.a.createElement(p.a,{exact:!0,path:"/",render:function(){return o.a.createElement(C,null)}}),o.a.createElement(p.a,{exact:!0,path:"/#/:keyword",render:function(t){return o.a.createElement(C,t)}})))}}]),e}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(c.a,null,o.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},73:function(t,e,a){var n=a(186);t.exports.fetchPhotos=function(t,e,a){n({url:"https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=44779de00e72e9ec8ffbf165bc0f6ca6"+("&text="+t)+("&page="+e)+"&format=json&nojsoncallback=1",json:!0},(function(t,e,n){t||200!==e.statusCode?a("Unable to fetch photos."):a(void 0,{page:n.photos.page,total:n.photos.total,photo:n.photos.photo})}))}}},[[180,1,2]]]);
//# sourceMappingURL=main.e707529c.chunk.js.map